<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{layouts/head::head}">
    <title>WatchMe! - Películas</title>
</head>

<body>
    <header th:insert="~{layouts/header::header}"></header>
    <div class="container">
        <section class="form">
            <form th:action="@{/pelicula}" th:object="${pelicula}" method="post" class="col-md-8 offset-md-2">
                <h2 th:text="${titulo}" class="py-4"></h2>
                <div class="row mb-3">
                    <label for="nombre" class="col-sm-2 col-form-label nombre">Nombre</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="nombre" th:field="*{name}">
                    </div>
                    <div class="invalid-feedback d-block" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">
                        
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="fecha_estreno" class="col-sm-2 col-form-label">Fecha Estreno</label>
                    <div class="col-sm-10">
                        <input type="date" class="form-control" id="fecha_estreno" th:field="*{releaseDate}">
                    </div>
                    <div class="invalid-feedback d-block" th:if="${#fields.hasErrors('releaseDate')}" th:errors="*{releaseDate}">
                        
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="genero" class="col-sm-2 col-form-label">Género</label>
                    <div class="col-sm-10">
                        <select class="form-select custom-select" th:field="*{genero}">
                            <option th:text="'Seleccionar género'" th:value="0"></option>
                            <option th:each="genero : ${generos}" th:text="${genero.name}" th:value="${genero.id}">
                            </option>
                        </select>
                    </div>
                    <div class="invalid-feedback d-block" th:if="${#fields.hasErrors('genero')}" th:errors="*{genero}">
                        
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="actor" class="col-sm-2 col-form-label">Actor</label>
                    <div class="col-sm-10">
                        <select class="form-select custom-select" th:field="*{actor}" onchange="actorSelected(this)">
                            <option th:text="'Seleccionar actor'" th:value="0"></option>
                            <option th:each="actor : ${actores}" th:text="${actor.name}" th:value="${actor.id}" th:data-url="${actor.urlImage}">
                            </option>
                        </select>
                    </div>
                </div>
                <input id="ids" name="ids" type="hidden">
                <div id="actores_container" class="row">

                </div>
                <button type="submit" class="button-guardar float-end">Guardar</button>
            </form>
        </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous">
    </script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous">
    </script>
    <script src="js/scripts.js"></script>
</body>

</html>